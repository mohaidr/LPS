======== Urgent List ========

Number of clients behavior  - Should I make my queue to track the number of requests per host per all clients? or change the way I deal with clients


Logging Behavior


//ToDo: Implement RunInParallel
//ToDo: Implement CleanUp Cookies

Exit app after command execution is completed

command to run multiple plans
command to configure file logging options


======== To Do List ========

Cookie manager to support custom cookies and support enabling disabling cookies per domain. For now cookies are enabled by defaults for all clients and all domains
redirects - Http Redirections for now is enabled for all domains and all clients

cache manager
download embedded resources optionally 
shared settings across all requests 
support for http2
Remove Completed Tasks


private async Task RemoveCompletedTasks(List<Task> tasks, CancellationToken token)
{
    int sizeInBytes = int.MaxValue;
    while (!token.IsCancellationRequested)
    {
        if (sizeInBytes > 10485760)
        {
            await _logger.LogAsync("1111111111", "Removing completed tasks, list is greater than 10 MB", LoggingLevel.WRN);

            sizeInBytes = tasks.Count * Marshal.SizeOf(typeof(Task));
            var completedTasks = tasks.Where(t => t.IsCompleted || t.IsCanceled || t.IsFaulted).ToList();
            foreach (var task in completedTasks)
            {
                tasks.Remove(task);
            }
        }
        await Task.Delay(20000);
    }
}

Expose Performence Counters

======== Done List ========
console logger option - Done
provide an option to not run the test plan after creating it manually - Done
logging per client - done
Logging Correlation Ids - done


